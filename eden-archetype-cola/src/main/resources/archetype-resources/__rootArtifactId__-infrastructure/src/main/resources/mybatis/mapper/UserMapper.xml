#set( $symbol_pound = '#' )
#set( $symbol_dollar = '$' )
#set( $symbol_escape = '\' )
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="${package}.infrastructure.user.database.mapper.UserMapper">

	<!-- 数据库字段映射（工具自动生成） -->
	<resultMap id="dbResultMap"
			   type="${package}.infrastructure.user.database.dataobject.UserDO">
		<result column="user_id" property="userId"/>
		<result column="dept_id" property="deptId"/>
		<result column="user_name" property="userName"/>
		<result column="nick_name" property="nickName"/>
		<result column="user_type" property="userType"/>
		<result column="real_name" property="realName"/>
		<result column="email" property="email"/>
		<result column="phonenumber" property="phonenumber"/>
		<result column="sex" property="sex"/>
		<result column="avatar" property="avatar"/>
		<result column="password" property="password"/>
		<result column="status" property="status"/>
		<result column="del_flag" property="delFlag"/>
		<result column="login_ip" property="loginIp"/>
		<result column="login_date" property="loginDate"/>
		<result column="create_by" property="createBy"/>
		<result column="create_time" property="createTime"/>
		<result column="update_by" property="updateBy"/>
		<result column="update_time" property="updateTime"/>
		<result column="remark" property="remark"/>
		<result column="pwd_tip" property="pwdTip"/>
		<result column="valid_type" property="validType"/>
		<result column="valid_start_time" property="validStartTime"/>
		<result column="valid_end_time" property="validEndTime"/>
		<result column="inform" property="inform"/>
		<result column="id_type" property="idType"/>
		<result column="id_no" property="idNo"/>
		<result column="post_id" property="postId"/>
		<result column="birthday" property="birthday"/>
		<result column="id_card" property="idCard"/>
		<result column="education" property="education"/>
		<result column="job_no" property="jobNo"/>
		<result column="tutor" property="tutor"/>
		<result column="pyfund_dept" property="pyfundDept"/>
		<result column="puyitou_user_id" property="puyitouUserId"/>
		<result column="motto" property="motto"/>
	</resultMap>

	<!-- 分页查询 -->
	<select id="selectPage"
			resultType="${package}.infrastructure.user.database.dataobject.UserDO">
		SELECT user_id, dept_id, email, del_flag, create_time, update_time
		FROM sys_user
		<include refid="selectPageCondition"/>
	</select>

	<!-- 分页条件 -->
	<sql id="selectPageCondition">
		<where>
			<if test="userName != null">
				AND user_name = ${symbol_pound}{userName}
			</if>
		</where>
	</sql>

</mapper>
